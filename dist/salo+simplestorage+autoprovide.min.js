function z(){function u(){window.localStorage.setItem("__simpleStorageInitTest","tmpval");window.localStorage.removeItem("__simpleStorageInitTest");y();l();"addEventListener"in window?window.addEventListener("storage",d,!1):document.attachEvent("onstorage",d);"addEventListener"in window&&window.addEventListener("pageshow",function(a){a.persisted&&d()},!1);m=!0}function d(){try{y()}catch(a){m=!1;return}l()}function y(){var b=localStorage.getItem("simpleStorage");try{a=JSON.parse(b)||{}}catch(c){a=
{}}v=n()}function g(){try{localStorage.setItem("simpleStorage",JSON.stringify(a)),v=n()}catch(b){return b}return!0}function n(){var a=localStorage.getItem("simpleStorage");return a?String(a).length:0}function l(){var b,c,p,e,f,d=Infinity,h=0;clearTimeout(q);if(a&&a.a&&a.a.b){b=+new Date;f=a.a.b.keys||[];e=a.a.b.c||{};c=0;for(p=f.length;c<p;c++)if(e[f[c]]<=b)h++,delete a[f[c]],delete e[f[c]];else{e[f[c]]<d&&(d=e[f[c]]);break}Infinity!=d&&(q=setTimeout(l,Math.min(d-b,2147483647)));h&&(f.splice(0,h),
r(),g())}}function t(b,c){var d=+new Date,e,f,g=!1;c=Number(c)||0;if(0!==c)if(a.hasOwnProperty(b)){a.a||(a.a={});a.a.b||(a.a.b={c:{},keys:[]});a.a.b.c[b]=d+c;if(a.a.b.c.hasOwnProperty(b))for(e=0,f=a.a.b.keys.length;e<f;e++)a.a.b.keys[e]==b&&a.a.b.keys.splice(e);e=0;for(f=a.a.b.keys.length;e<f;e++)if(a.a.b.c[a.a.b.keys[e]]>d+c){a.a.b.keys.splice(e,0,b);g=!0;break}g||a.a.b.keys.push(b)}else return;else if(a&&a.a&&a.a.b){if(a.a.b.c.hasOwnProperty(b))for(delete a.a.b.c[b],e=0,f=a.a.b.keys.length;e<f;e++)if(a.a.b.keys[e]==
b){a.a.b.keys.splice(e,1);break}r()}clearTimeout(q);a&&a.a&&a.a.b&&a.a.b.keys.length&&(q=setTimeout(l,Math.min(Math.max(a.a.b.c[a.a.b.keys[0]]-d,0),2147483647)))}function r(){var b=!1,c;if(a&&a.a){a.a.b&&!a.a.b.keys.length&&delete a.a.b;for(c in a.a)if(a.a.hasOwnProperty(c)){b=!0;break}b||delete a.a}}var a=!1,v=0,m=!1,q=null;try{u()}catch(B){}return{version:"0.1.3",j:function(){return!!m},set:function(b,c,d){if("__simpleStorage_meta"==b||!a)return!1;if("undefined"==typeof c)return this.f(b);d=d||
{};try{c=JSON.parse(JSON.stringify(c))}catch(e){return e}a[b]=c;t(b,d.b||0);return g()},get:function(b){if(!a)return!1;if(a.hasOwnProperty(b)&&"__simpleStorage_meta"!=b&&this.h(b))return a[b]},f:function(b){return a?b in a?(delete a[b],t(b,0),g()):!1:!1},l:function(b,c){if(!a)return!1;t(b,c);return g()},h:function(b){return a?a.hasOwnProperty(b)?a.a&&a.a.b&&a.a.b.c&&a.a.b.c.hasOwnProperty(b)?(b=Math.max(a.a.b.c[b]-+new Date||0,0))||!1:Infinity:!1:!1},flush:function(){if(!a)return!1;a={};try{return localStorage.removeItem("simpleStorage"),
!0}catch(b){return b}},index:function(){if(!a)return!1;var b=[],c;for(c in a)a.hasOwnProperty(c)&&"__simpleStorage_meta"!=c&&b.push(c);return b},m:function(){return v}}}"function"===typeof define&&define.i?define(z):"undefined"!==typeof exports?module.g=z():z();
function C(u,d){function y(){}function g(a){u.set("sendHitTask",a||r)}function n(a,b){g(D);return a&&u.send("exception",{exDescription:"salo.js - "+b+":"+a.message,nonInteraction:!0,exFatal:!1})}function l(c,d){d||(e++,d=a(c)&&v(c));if(!d||!f&&q(d)){var x=w.setTimeout(function(){x=x&&t(!1)},h),A=c.get("hitCallback")||y;c.set("hitCallback",function F(){try{x&&(x=w.clearTimeout(x));if(d){var a=d;k.f(a);k.f(a+"lock")}A&&(t(!0),A())}catch(c){n(c,F)}A=b},!0);e--;f++;D(c)}}function t(a){f--;return a&&m()||
w.setTimeout(m,h)}function r(a,b){try{l(a,b)}catch(c){n(c,r)}}function a(a){for(var b,c=!1,d=p.length;!c&&d--;){b=p[d];var c=!0,e;for(e in b)a.get(e)!=b[e]&&(c=!1)}return c&&b}function v(a){var b="hit"+(new w.Date).getTime();a=a.get("hitPayload");return k.set(b,a,{b:E})&&b}function m(){if(!(0<f))for(var a=k.index(),b=0;b<a.length;){var c=a[b++],d=c.match(/^hit(\d+)$/);if(d){var d=parseInt(d[1],10),d=(new w.Date).getTime()-d,e=k.get(c);r(B({transport:G,transportUrl:H,hitPayload:e+"&qt="+d}),c)}}}function q(a){a+=
"lock";if(k.get(a))return!1;k.set(a,1,{b:h});return!0}function B(a){return{get:function(b){return a[b]},set:function(b,c){a[b]=c}}}var b,c={enable:g,disable:n,watch:function(a){p.push(a)}},p=[{useSalo:!0,useBeacon:!1,hitCallback:b,transport:b}],e=0,f=0;d=d||{};var E=d.storageTimeout||108E5,h=d.transportTimeout||5E3,G=d.transportMethod||"image",H=d.transportUrl||"//www.google-analytics.com/collect",w=d.timing||window,k=d.storage||window.simpleStorage,D=u.get("sendHitTask");g();return c}
"undefined"!==typeof exports&&(module.g=C);window[window.GoogleAnalyticsObject]("require","salo");window[window.GoogleAnalyticsObject]("provide","salo",C);